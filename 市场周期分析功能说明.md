# 市场周期分析功能说明

## 🎯 功能概述

新增了**市场周期分析**页面，通过分析不同板块ETF的月线数据来判断当前市场所处的周期位置，重点关注基钦周期和朱格拉周期。

## 📊 功能特性

### 1. 基钦周期分析（库存周期）
- **周期长度**：3-4年
- **关注板块**：代表工业与原材料需求的板块
- **分析ETF**：
  - 有色金属ETF (512400)
  - 化工ETF (516160) 
  - 消费ETF (159928)
  - 医疗ETF (512170)
  - 电池ETF (159755)

### 2. 朱格拉周期分析（设备投资周期）
- **周期长度**：7-10年
- **关注板块**：代表设备与资本支出的板块
- **分析ETF**：
  - 机器人ETF (159530)
  - 半导体设备ETF (159516)
  - 消费电子ETF (159732)
  - 通信ETF (515880)
  - 科创100ETF (588030)

## 🔍 分析逻辑

### 基钦周期信号判断
- **补库存信号**：价格上涨 + 成交量放大 → 复苏阶段
- **去库存信号**：价格下跌 + 成交量萎缩 → 衰退阶段
- **库存调整**：价格横盘 → 调整期

### 朱格拉周期信号判断
- **资本开支回升**：长期底部放量突破 → 复苏阶段
- **设备投资放缓**：长期下跌趋势 → 衰退阶段
- **投资观望期**：横盘整理 → 调整期

## 📈 技术指标

### 趋势分析
- **短期趋势**：基于最近3个月vs前3个月的价格变化
- **长期趋势**：基于前半段vs后半段的价格对比
- **突破判断**：从最低点上涨15%以上 + 后半段比前半段高10%以上

### 成交量分析
- **量价配合**：成交量放大配合价格上涨
- **量能萎缩**：成交量减少配合价格下跌
- **放量标准**：最近3个月成交量 > 平均成交量 × 1.2

### MACD指标
- **金叉信号**：MACD线上穿信号线，确认上涨趋势
- **死叉信号**：MACD线下穿信号线，确认下跌趋势
- **柱状图**：MACD与信号线的差值，显示动量变化

### 布林带指标
- **上轨突破**：价格突破布林带上轨，可能超买
- **下轨跌破**：价格跌破布林带下轨，可能超卖
- **中轨支撑**：价格在中轨附近，趋势中性

## 🎨 界面功能

### 数据展示
- **主图表**：使用lightweight-charts展示K线图、成交量、布林带指标
- **MACD子图表**：独立的MACD指标图表，显示MACD线、信号线和柱状图
- **技术指标**：显示当前价格、涨跌幅、置信度、MACD值
- **指标详情**：显示MACD金叉/死叉、布林带超买/超卖状态
- **信号标签**：显示关键的市场信号
- **专业交互**：支持缩放、十字线、悬停提示等专业功能

### 周期位置判断
- **整体分析**：综合基钦周期和朱格拉周期的复苏板块数量
- **置信度评估**：基于技术指标和成交量分析
- **信号提示**：显示具体的市场信号和投资建议

## 🚀 使用方法

1. **访问页面**：在左侧菜单中点击"市场周期分析"
2. **选择周期**：可选择周线或月线数据（推荐月线）
3. **查看分析**：
   - 基钦周期标签页：查看库存周期相关板块
   - 朱格拉周期标签页：查看设备投资周期相关板块
4. **解读结果**：
   - 绿色标签：复苏阶段
   - 红色标签：衰退阶段  
   - 橙色标签：调整阶段

## 📋 关键信号说明

### 基钦周期信号
- **补库存需求启动**：原材料板块上涨 + 成交量放大 + MACD金叉 + 布林带突破上轨
- **去库存阶段**：原材料板块下跌 + 成交量萎缩 + MACD死叉 + 布林带跌破下轨
- **库存调整期**：原材料板块横盘整理

### 朱格拉周期信号
- **资本开支意愿回升**：设备板块长期底部放量突破 + MACD金叉 + 布林带突破上轨
- **设备投资放缓**：设备板块长期下跌趋势 + MACD死叉 + 布林带跌破下轨
- **设备投资观望期**：设备板块横盘整理

## 🔧 技术实现

- **数据源**：东方财富API获取ETF月线数据
- **图表库**：lightweight-charts 5.0用于专业金融图表展示
- **数据适配器**：自定义适配器将东方财富数据转换为lightweight-charts格式
- **UI框架**：Ant Design组件库
- **分析算法**：自定义技术指标计算和趋势判断

## 📝 注意事项

1. **数据时效性**：建议定期刷新数据获取最新市场信息
2. **周期判断**：周期分析需要结合多个指标综合判断
3. **风险提示**：周期分析仅供参考，不构成投资建议
4. **数据依赖**：需要稳定的网络连接获取实时数据

## 🎯 应用场景

- **宏观分析**：判断当前市场所处的经济周期位置
- **投资决策**：为资产配置提供周期性的参考依据
- **风险管理**：识别不同周期阶段的市场风险特征
- **策略调整**：根据周期位置调整投资策略和仓位配置
